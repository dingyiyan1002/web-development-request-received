// level1-array-sum.ts - æ•°ç»„æ±‚å’Œå¯è§†åŒ–
import { VisualizationData } from '../types';

export const level1ArraySumData: VisualizationData = {
  id: 'level1-array-sum',
  title: 'forå¾ªç¯æ•°ç»„æ±‚å’Œ',
  filename: 'array-sum.c',
  badge: 'ğŸ”¢ æ•°ç»„å¾ªç¯',
  code: [
    '#include <stdio.h>',
    '#include <stdint.h>',
    '',
    'int main(void)',
    '{',
    '    uint8_t data[5] = {10, 20, 30, 40, 50};',
    '    uint8_t sum = 0;',
    '',
    '    for (uint8_t i = 0; i < 5; i++) {',
    '        sum += data[i];',
    '    }',
    '',
    '    printf("Sum = %u\\n", sum);',
    '    return 0;',
    '}',
  ],
  steps: [
    { line: 0, description: 'ç¨‹åºå¼€å§‹', frames: [{ name: 'main', vars: [] }],
      vizBlocks: [{ type: 'rule', data: { title: 'forå¾ªç¯', content: 'éå†æ•°ç»„æ±‚å’Œ', color: 'blue' } }] },
    { line: 5, description: 'dataæ•°ç»„åˆå§‹åŒ–', frames: [{ name: 'main', vars: [{ type: 'uint8_t[5]', name: 'data', value: '[10,20,30,40,50]', state: 'changed' }] }],
      vizBlocks: [] },
    { line: 6, description: 'sum = 0', frames: [{ name: 'main', vars: [{ type: 'uint8_t[5]', name: 'data', value: '[10,20,30,40,50]', state: '' }, { type: 'uint8_t', name: 'sum', value: '0', state: 'changed' }] }],
      vizBlocks: [] },
    { line: 8, description: 'i=0, sum+=10', frames: [{ name: 'main', vars: [{ type: 'uint8_t[5]', name: 'data', value: '[10,20,30,40,50]', state: '' }, { type: 'uint8_t', name: 'sum', value: '10', state: 'changed' }, { type: 'uint8_t', name: 'i', value: '0', state: '' }] }],
      vizBlocks: [] },
    { line: 8, description: 'i=1, sum+=20', frames: [{ name: 'main', vars: [{ type: 'uint8_t[5]', name: 'data', value: '[10,20,30,40,50]', state: '' }, { type: 'uint8_t', name: 'sum', value: '30', state: 'changed' }, { type: 'uint8_t', name: 'i', value: '1', state: '' }] }],
      vizBlocks: [] },
    { line: 8, description: 'i=2, sum+=30', frames: [{ name: 'main', vars: [{ type: 'uint8_t[5]', name: 'data', value: '[10,20,30,40,50]', state: '' }, { type: 'uint8_t', name: 'sum', value: '60', state: 'changed' }, { type: 'uint8_t', name: 'i', value: '2', state: '' }] }],
      vizBlocks: [] },
    { line: 8, description: 'i=3, sum+=40', frames: [{ name: 'main', vars: [{ type: 'uint8_t[5]', name: 'data', value: '[10,20,30,40,50]', state: '' }, { type: 'uint8_t', name: 'sum', value: '100', state: 'changed' }, { type: 'uint8_t', name: 'i', value: '3', state: '' }] }],
      vizBlocks: [] },
    { line: 8, description: 'i=4, sum+=50', frames: [{ name: 'main', vars: [{ type: 'uint8_t[5]', name: 'data', value: '[10,20,30,40,50]', state: '' }, { type: 'uint8_t', name: 'sum', value: '150', state: 'changed' }, { type: 'uint8_t', name: 'i', value: '4', state: '' }] }],
      vizBlocks: [] },
    { line: 8, description: 'i=5, å¾ªç¯ç»“æŸ', frames: [{ name: 'main', vars: [{ type: 'uint8_t[5]', name: 'data', value: '[10,20,30,40,50]', state: '' }, { type: 'uint8_t', name: 'sum', value: '150', state: '' }] }],
      vizBlocks: [] },
    { line: 12, description: 'è¾“å‡ºSum=150', frames: [{ name: 'main', vars: [{ type: 'uint8_t', name: 'sum', value: '150', state: 'reading' }] }],
      vizBlocks: [{ type: 'stdout', data: { content: 'Sum = 150' } }] },
    { line: 14, description: 'ç¨‹åºç»“æŸ', frames: [{ name: 'main', vars: [] }],
      vizBlocks: [{ type: 'summary', data: { title: 'æ•°ç»„æ±‚å’Œ', points: ['forå¾ªç¯éå†', 'sum+=data[i]', '10+20+30+40+50=150'] } }] },
  ],
};

export default level1ArraySumData;
